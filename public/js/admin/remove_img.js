$(document).ready((()=>{!function e(){$removeImageBtns=$(".remove-image-btn"),$removeImageBtns.unbind("click"),$removeImageBtns.bind("click",(o=>{let t=$(o.currentTarget),n=t.closest(".gallery-item").data("photo-id");$.when($.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:`/admin/api/products/photos/${n}/destroy`,method:"post",dataType:"json",beforeSend:()=>{$removeImageBtns.unbind("click")},success:()=>{console.log(`Image with id ${n} has been successfully deleted`),t.closest(".gallery-item").remove()},error:e=>{console.log(e),console.log(`An error occurred when deleting an image with ID ${n}`)}})).then((o=>{e()}))}))}()}));
