let DOMLoadedHookFunctions=[],ResizeHookFunctions=[],SetMobileVersionHookFunctions=[],SetPCVersionHookFunctions=[],FromMobileToPcFunctions=[],CommonScriptsFunctions=[];const helper={hooks:{DOMContentLoaded:()=>{DOMLoadedHookFunctions.map((e=>{e.call(e.params)}))},Resize:()=>{ResizeHookFunctions.map((e=>{e.call(e.params)}))},FromMobileToPc:()=>{FromMobileToPcFunctions.map((e=>{e.call(e.params)})),helper.hooks.CommonScriptsInit()},CommonScriptsInit:e=>{setTimeout((()=>{CommonScriptsFunctions.map((e=>{e.call(e.params)}))}),e?0:1e3)}}};$(document).ready((function(){helper.hooks.DOMContentLoaded()})),window.updateCart=()=>{let e=$(".minicart-btn"),t=$("#miniCart");$.when($.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"/api/cart/items",type:"get",data:{},success:e=>e.data.items,error:e=>{location.reload()}})).done((a=>{let o=a.data.items,n=Object.keys(o).length;$.ajax({url:"/api/cart/template/minicart",type:"get",data:{cartItems:o},success:a=>{let o=a.data.template;t.find(".offcanvas-body").html(o),e.find(".quantity").text(n),function(){$menuClose=$(".button-close"),$menuClose.unbind("click"),$menuClose.on("click",(function(e){var t=$(".main-wrapper").children();e.preventDefault(),$(this).parents(".open").removeClass("open"),t.find(".global-overlay").removeClass("overlay-open")}));let e=$(".mobile-menu, .offcanvas-minicart_menu");$(".mobile-menu_wrapper, .offcanvas-minicart_wrapperm, .offcanvas-search_wrapper"),e.find(".sub-menu"),$(".menu-btn"),$menuClose.on("click",(function(e){e.preventDefault(),$(".mobile-menu .sub-menu").slideUp(),$(".mobile-menu .menu-item-has-children").removeClass("menu-open")}));let t=$(".product-item_remove.ajax");t.unbind("click"),t.bind("click",(e=>{e.preventDefault()}))}()},error:e=>{}})}))},DOMLoadedHookFunctions.push({call:()=>{let e=$(".product-item.ajax .add-product-to-cart");e.find("a").click((e=>{e.preventDefault()})),e.unbind("click"),e.bind("click",(e=>{let t=$(e.currentTarget).closest(".product-item").data("product-id");$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"/api/cart/toggle-cart-item",type:"post",data:{productId:t},success:e=>{"increase"===e.message?alert("Товар добавлен в корзину"):"decrease"===e.message&&alert("Товар удалён из корзины"),window.updateCart()},error:e=>{alert(e.responseJSON.message)}})})),$(".thumbs-arrow-holder a.swiper-slide").click((e=>{e.preventDefault()}))}});
